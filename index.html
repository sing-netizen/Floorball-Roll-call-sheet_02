<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è»Ÿå¼æ›²æ£çƒæŠ€è¡“æ”¹è‰¯è¨“ç·´ç­é»åç³»çµ±</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #1e5799 0%, #207cca 100%);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        h1 i {
            font-size: 30px;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .control-panel {
            padding: 25px 30px;
            background-color: #f8fafc;
            border-bottom: 1px solid #eaeef2;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .form-group {
            flex: 1;
            min-width: 200px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 15px;
        }
        
        select, input[type="date"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #d1d9e6;
            border-radius: 8px;
            font-size: 15px;
            background-color: white;
            color: #333;
            transition: all 0.3s;
        }
        
        select:focus, input[type="date"]:focus {
            outline: none;
            border-color: #4a6ee0;
            box-shadow: 0 0 0 3px rgba(74, 110, 224, 0.1);
        }
        
        .status-emoji {
            display: inline-block;
            width: 24px;
            height: 24px;
            text-align: center;
            margin-right: 5px;
            border-radius: 4px;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background-color: #4a6ee0;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3a5ed0;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background-color: #10b981;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #0da271;
            transform: translateY(-2px);
        }
        
        .btn-whatsapp {
            background-color: #25D366;
            color: white;
        }
        
        .btn-whatsapp:hover {
            background-color: #1da851;
            transform: translateY(-2px);
        }
        
        .content {
            padding: 25px 30px;
        }
        
        .section-title {
            font-size: 20px;
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeef2;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title:first-child {
            margin-top: 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th {
            background-color: #f1f5f9;
            padding: 16px 12px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 1px solid #e2e8f0;
        }
        
        td {
            padding: 16px 12px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        tr:hover {
            background-color: #f8fafc;
        }
        
        .type-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }
        
        .type-athlete {
            background-color: #dbeafe;
            color: #1e40af;
        }
        
        .type-partner {
            background-color: #f0fdf4;
            color: #166534;
        }
        
        .whatsapp-preview {
            background-color: #f0f5ff;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
            border-left: 5px solid #4a6ee0;
            white-space: pre-line;
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            line-height: 1.7;
        }
        
        .whatsapp-preview h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .footer-note {
            margin-top: 30px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #eaeef2;
            color: #64748b;
            font-size: 14px;
        }
        
        .emoji {
            font-size: 18px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .form-group {
                min-width: 100%;
            }
            
            th, td {
                padding: 12px 8px;
                font-size: 14px;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .buttons {
                flex-direction: column;
            }
        }
        
        /* ç‹€æ…‹æ¨£å¼ */
        .status-yes { color: #10b981; }
        .status-abs { color: #f59e0b; }
        .status-o { color: #ef4444; }
        .status-l { color: #8b5cf6; }
        .status-s { color: #0ea5e9; }
        .status-c { color: #ec4899; }
        
        /* æ€§åˆ¥æ¨£å¼ */
        .gender-m { color: #3b82f6; }
        .gender-f { color: #ec4899; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-hockey-puck"></i> è»Ÿå¼æ›²æ£çƒæŠ€è¡“æ”¹è‰¯è¨“ç·´ç­é»åç³»çµ±</h1>
            <div class="subtitle">é¦™æ¸¯ç‰¹æ®Šå¥§é‹æœƒ - è¨“ç·´ç­é»ååŠè¨Šæ¯ç™¼é€ç³»çµ±</div>
        </header>
        
        <div class="control-panel">
            <div class="form-row">
                <div class="form-group">
                    <label for="training-date"><i class="far fa-calendar-alt"></i> è¨“ç·´æ—¥æœŸ</label>
                    <input type="date" id="training-date">
                </div>
                <div class="form-group">
                    <label for="training-time"><i class="far fa-clock"></i> è¨“ç·´æ™‚é–“</label>
                    <select id="training-time">
                        <option value="æ˜ŸæœŸä¸€ã€å…­ (18:00-20:00)">æ˜ŸæœŸä¸€ã€å…­ (18:00-20:00)</option>
                        <option value="æ˜ŸæœŸä¸€ (18:00-20:00)">æ˜ŸæœŸä¸€ (18:00-20:00)</option>
                        <option value="æ˜ŸæœŸå…­ (18:00-20:00)">æ˜ŸæœŸå…­ (18:00-20:00)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="training-location"><i class="fas fa-map-marker-alt"></i> è¨“ç·´åœ°é»</label>
                    <select id="training-location">
                        <option value="ä¹é¾ç£é«”è‚²é¤¨">ä¹é¾ç£é«”è‚²é¤¨</option>
                        <option value="ä¹é¾ç£é‹å‹•å ´">ä¹é¾ç£é‹å‹•å ´</option>
                        <option value="ç´…ç£¡å¸‚æ”¿å¤§å»ˆé«”è‚²é¤¨">ç´…ç£¡å¸‚æ”¿å¤§å»ˆé«”è‚²é¤¨</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="coach-combo"><i class="fas fa-users"></i> æ•™ç·´çµ„åˆ</label>
                    <select id="coach-combo">
                        <option value="å½­å®¶å¨ã€ä½•å®¶ç‘©">å½­å®¶å¨ã€ä½•å®¶ç‘©</option>
                        <option value="ä½•æ˜Œæ†ã€ä½•å®¶ç‘©">ä½•æ˜Œæ†ã€ä½•å®¶ç‘©</option>
                        <option value="å½­å®¶å¨ã€æ—å»ºç¼">å½­å®¶å¨ã€æ—å»ºç¼</option>
                        <option value="å½­å®¶å¨">å½­å®¶å¨</option>
                        <option value="ä½•æ˜Œæ†">ä½•æ˜Œæ†</option>
                        <option value="ä½•å®¶ç‘©">ä½•å®¶ç‘©</option>
                    </select>
                </div>
            </div>
            
            <div class="buttons">
                <button class="btn btn-primary" id="save-btn">
                    <i class="fas fa-save"></i> å„²å­˜é»åè¨˜éŒ„
                </button>
                <button class="btn btn-success" id="generate-btn">
                    <i class="fas fa-file-alt"></i> ç”ŸæˆWhatsAppæ–‡æ¡ˆ
                </button>
                <button class="btn btn-whatsapp" id="whatsapp-btn">
                    <i class="fab fa-whatsapp"></i> æ¨é€è‡³WhatsApp
                </button>
            </div>
        </div>
        
        <div class="content">
            <div class="section-title">
                <i class="fas fa-user-friends"></i> é‹å‹•å“¡åå–®
            </div>
            <table id="athletes-table">
                <thead>
                    <tr>
                        <th width="5%">ç·¨è™Ÿ</th>
                        <th width="25%">æ©Ÿæ§‹åç¨±</th>
                        <th width="25%">å§“å</th>
                        <th width="10%">æ€§åˆ¥</th>
                        <th width="35%">å‡ºå¸­ç‹€æ…‹</th>
                    </tr>
                </thead>
                <tbody id="athletes-body">
                    <!-- é‹å‹•å“¡æ•¸æ“šå°‡é€šéJavaScriptå‹•æ…‹ç”Ÿæˆ -->
                </tbody>
            </table>
            
            <div class="section-title">
                <i class="fas fa-hands-helping"></i> èåˆä¼™ä¼´åå–®
            </div>
            <table id="partners-table">
                <thead>
                    <tr>
                        <th width="5%">ç·¨è™Ÿ</th>
                        <th width="25%">æ©Ÿæ§‹åç¨±</th>
                        <th width="25%">å§“å</th>
                        <th width="10%">æ€§åˆ¥</th>
                        <th width="35%">å‡ºå¸­ç‹€æ…‹</th>
                    </tr>
                </thead>
                <tbody id="partners-body">
                    <!-- èåˆä¼™ä¼´æ•¸æ“šå°‡é€šéJavaScriptå‹•æ…‹ç”Ÿæˆ -->
                </tbody>
            </table>
            
            <div id="whatsapp-output" style="display: none;">
                <div class="section-title">
                    <i class="fab fa-whatsapp"></i> WhatsAppæ¨é€æ–‡æ¡ˆ
                </div>
                <div class="whatsapp-preview">
                    <h3><i class="fab fa-whatsapp"></i> è»Ÿå¼æ›²æ£çƒè¨“ç·´ç­é»åè¨˜éŒ„</h3>
                    <div id="whatsapp-content">
                        <!-- WhatsAppæ–‡æ¡ˆå…§å®¹å°‡åœ¨æ­¤é¡¯ç¤º -->
                    </div>
                </div>
            </div>
            
            <div class="footer-note">
                æ­¤ç³»çµ±ç”±é¦™æ¸¯ç‰¹æ®Šå¥§é‹æœƒå°ˆç”¨ | è¨˜éŒ„ç”Ÿæˆæ™‚é–“: <span id="generation-time">--</span>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–æ•¸æ“š
        const athletes = [
            { id: 1, org: "ç‰¹å¥§ä¹‹å‹", name: "ç¾…ç¿¹é‹’", gender: "M" },
            { id: 2, org: "æ¾å¶ºè·è¨“", name: "é™³å“è¬™", gender: "M" },
            { id: 3, org: "è§€å¡˜å±•äº®", name: "æ—æ—¥æœ—", gender: "M" },
            { id: 4, org: "å¾ªé“è¡›ç†", name: "ææµ©ç”Ÿ", gender: "M" },
            { id: 5, org: "ç‰¹å¥§ä¹‹å‹", name: "é™³æ–‡è¼", gender: "M" },
            { id: 6, org: "ç‰¹å¥§ä¹‹å‹", name: "é™³æ–‡å‚‘", gender: "M" },
            { id: 7, org: "ç‰¹å¥§ä¹‹å‹", name: "æç©é§¿", gender: "M" },
            { id: 8, org: "ç‰¹å¥§ä¹‹å‹", name: "å‘‚å®¶è¯", gender: "M" },
            { id: 9, org: "ç‰¹å¥§ä¹‹å‹", name: "æ—å¿—å¿ ", gender: "M" },
            { id: 10, org: "ç‰¹å¥§ä¹‹å‹", name: "æ›¹ä¿Šæ¥­", gender: "M" },
            { id: 11, org: "ç‰¹å¥§ä¹‹å‹", name: "ä½•å­éµ¬", gender: "M" },
            { id: 12, org: "æ²™ç”°å…¬ç«‹", name: "å³åœ‹æµ©", gender: "M" },
            { id: 13, org: "è¥¿å€æ™¨è¼", name: "çŸ³æŒ¯æ˜Ÿ", gender: "M" }
        ];

        const partners = [
            { id: 14, org: "èåˆä¼™ä¼´", name: "é™³è€ƒç†’", gender: "F" },
            { id: 15, org: "èåˆä¼™ä¼´", name: "éº¥å‰ä¿Š", gender: "M" },
            { id: 16, org: "èåˆä¼™ä¼´", name: "é™³èŠ¯å„€", gender: "F" },
            { id: 17, org: "èåˆä¼™ä¼´", name: "æ±ŸéŸ»è", gender: "F" },
            { id: 18, org: "èåˆä¼™ä¼´", name: "å¤ä»²æ–‡", gender: "F" },
            { id: 19, org: "èåˆä¼™ä¼´", name: "é»ƒå±•æ‚…", gender: "F" }
        ];

        // å‡ºå¸­ç‹€æ…‹é¸é …ï¼ˆå«emojiï¼‰
        const statusOptions = [
            { value: "Yes", text: "âœ… å‡ºå¸­", emoji: "âœ…" },
            { value: "Abs", text: "ğŸ“ è«‹å‡", emoji: "ğŸ“" },
            { value: "O", text: "âŒ ç„¡æ•…ç¼ºå¸­", emoji: "âŒ" },
            { value: "L", text: "â° é²åˆ°", emoji: "â°" },
            { value: "S", text: "ğŸ¤’ ç—…å‡", emoji: "ğŸ¤’" },
            { value: "C", text: "ğŸ† å‡ºå¤–æ¯”è³½", emoji: "ğŸ†" }
        ];

        // åˆå§‹åŒ–é é¢
        document.addEventListener('DOMContentLoaded', function() {
            // è¨­ç½®é»˜èªæ—¥æœŸç‚ºä»Šå¤©
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('training-date').value = today;
            
            // ç”Ÿæˆé‹å‹•å“¡è¡¨æ ¼
            const athletesBody = document.getElementById('athletes-body');
            athletes.forEach(athlete => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${athlete.id}</td>
                    <td>${athlete.org}</td>
                    <td>${athlete.name}</td>
                    <td class="gender-${athlete.gender.toLowerCase()}">
                        ${athlete.gender === 'M' ? 'ğŸ‘¨ ç”·' : 'ğŸ‘© å¥³'}
                    </td>
                    <td>
                        <select class="status-select" data-id="${athlete.id}" data-type="athlete">
                            ${statusOptions.map(option => 
                                `<option value="${option.value}">${option.text}</option>`
                            ).join('')}
                        </select>
                    </td>
                `;
                athletesBody.appendChild(row);
            });
            
            // ç”Ÿæˆèåˆä¼™ä¼´è¡¨æ ¼
            const partnersBody = document.getElementById('partners-body');
            partners.forEach(partner => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${partner.id}</td>
                    <td>${partner.org}</td>
                    <td>${partner.name}</td>
                    <td class="gender-${partner.gender.toLowerCase()}">
                        ${partner.gender === 'M' ? 'ğŸ‘¨ ç”·' : 'ğŸ‘© å¥³'}
                    </td>
                    <td>
                        <select class="status-select" data-id="${partner.id}" data-type="partner">
                            ${statusOptions.map(option => 
                                `<option value="${option.value}">${option.text}</option>`
                            ).join('')}
                        </select>
                    </td>
                `;
                partnersBody.appendChild(row);
            });
            
            // è¨­ç½®æ‰€æœ‰ç‹€æ…‹é¸æ“‡æ¡†é»˜èªç‚º"å‡ºå¸­"
            document.querySelectorAll('.status-select').forEach(select => {
                select.value = 'Yes';
            });
            
            // æ›´æ–°ç”Ÿæˆæ™‚é–“
            updateGenerationTime();
        });
        
        // æ›´æ–°ç”Ÿæˆæ™‚é–“å‡½æ•¸
        function updateGenerationTime() {
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };
            const timeString = now.toLocaleDateString('zh-Hant', options);
            document.getElementById('generation-time').textContent = timeString;
        }
        
        // å„²å­˜é»åè¨˜éŒ„
        document.getElementById('save-btn').addEventListener('click', function() {
            const date = document.getElementById('training-date').value;
            const location = document.getElementById('training-location').value;
            const coaches = document.getElementById('coach-combo').value;
            
            // æ”¶é›†æ‰€æœ‰ç‹€æ…‹
            const statusData = {
                date: date,
                location: location,
                coaches: coaches,
                athletes: [],
                partners: []
            };
            
            document.querySelectorAll('.status-select[data-type="athlete"]').forEach(select => {
                const id = parseInt(select.getAttribute('data-id'));
                const athlete = athletes.find(a => a.id === id);
                if (athlete) {
                    statusData.athletes.push({
                        id: athlete.id,
                        name: athlete.name,
                        org: athlete.org,
                        gender: athlete.gender,
                        status: select.value
                    });
                }
            });
            
            document.querySelectorAll('.status-select[data-type="partner"]').forEach(select => {
                const id = parseInt(select.getAttribute('data-id'));
                const partner = partners.find(p => p.id === id);
                if (partner) {
                    statusData.partners.push({
                        id: partner.id,
                        name: partner.name,
                        org: partner.org,
                        gender: partner.gender,
                        status: select.value
                    });
                }
            });
            
            // å¯¦éš›æ‡‰ç”¨ä¸­ï¼Œé€™è£¡æœƒå°‡æ•¸æ“šç™¼é€åˆ°ä¼ºæœå™¨
            // ç¾åœ¨æˆ‘å€‘åªé¡¯ç¤ºä¸€å€‹æç¤º
            alert('é»åè¨˜éŒ„å·²å„²å­˜ï¼\næ—¥æœŸ: ' + formatDate(date) + '\nåœ°é»: ' + location + '\næ•™ç·´: ' + coaches);
            
            // æ›´æ–°ç”Ÿæˆæ™‚é–“
            updateGenerationTime();
        });
        
        // ç”ŸæˆWhatsAppæ–‡æ¡ˆ
        document.getElementById('generate-btn').addEventListener('click', function() {
            const date = document.getElementById('training-date').value;
            const time = document.getElementById('training-time').value;
            const location = document.getElementById('training-location').value;
            const coaches = document.getElementById('coach-combo').value;
            
            // ç²å–ç‹€æ…‹çµ±è¨ˆ
            const athleteStatuses = Array.from(document.querySelectorAll('.status-select[data-type="athlete"]')).map(s => s.value);
            const partnerStatuses = Array.from(document.querySelectorAll('.status-select[data-type="partner"]')).map(s => s.value);
            
            // è¨ˆç®—çµ±è¨ˆ
            const totalAthletes = athleteStatuses.length;
            const presentAthletes = athleteStatuses.filter(s => s === 'Yes').length;
            const totalPartners = partnerStatuses.length;
            const presentPartners = partnerStatuses.filter(s => s === 'Yes').length;
            
            // æ§‹å»ºWhatsAppæ–‡æ¡ˆ
            let whatsappContent = `ğŸ’ è»Ÿå¼æ›²æ£çƒæŠ€è¡“æ”¹è‰¯è¨“ç·´ç­é»åè¨˜éŒ„ ğŸ’\n\n`;
            whatsappContent += `ğŸ“… æ—¥æœŸï¼š${formatDate(date)}\n`;
            whatsappContent += `â° æ™‚é–“ï¼š${time}\n`;
            whatsappContent += `ğŸ“ åœ°é»ï¼š${location}\n`;
            whatsappContent += `ğŸ‘¨â€ğŸ« è² è²¬æ•™ç·´ï¼š${coaches}\n\n`;
            whatsappContent += `ğŸ“Š å‡ºå¸­çµ±è¨ˆï¼š\n`;
            whatsappContent += `   é‹å‹•å“¡ï¼š${presentAthletes}/${totalAthletes} äºº\n`;
            whatsappContent += `   èåˆä¼™ä¼´ï¼š${presentPartners}/${totalPartners} äºº\n`;
            whatsappContent += `   ç¸½å‡ºå¸­ï¼š${presentAthletes + presentPartners}/${totalAthletes + totalPartners} äºº\n\n`;
            
            whatsappContent += `ğŸ¯ é‹å‹•å“¡åå–®ï¼š\n`;
            whatsappContent += `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
            
            // é‹å‹•å“¡åˆ—è¡¨
            document.querySelectorAll('.status-select[data-type="athlete"]').forEach(select => {
                const id = parseInt(select.getAttribute('data-id'));
                const athlete = athletes.find(a => a.id === id);
                if (athlete) {
                    const statusOption = statusOptions.find(opt => opt.value === select.value);
                    whatsappContent += `${athlete.id}. ${athlete.org} ${athlete.name} ${statusOption.emoji}\n`;
                }
            });
            
            whatsappContent += `\nğŸ¤ èåˆä¼™ä¼´åå–®ï¼š\n`;
            whatsappContent += `â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
            
            // èåˆä¼™ä¼´åˆ—è¡¨
            document.querySelectorAll('.status-select[data-type="partner"]').forEach(select => {
                const id = parseInt(select.getAttribute('data-id'));
                const partner = partners.find(p => p.id === id);
                if (partner) {
                    const statusOption = statusOptions.find(opt => opt.value === select.value);
                    whatsappContent += `${partner.id}. ${partner.org} ${partner.name} ${statusOption.emoji}\n`;
                }
            });
            
            whatsappContent += `\nğŸ“‹ ç‹€æ…‹èªªæ˜ï¼š\n`;
            whatsappContent += `âœ… å‡ºå¸­ | ğŸ“ è«‹å‡ | âŒ ç„¡æ•…ç¼ºå¸­ | â° é²åˆ° | ğŸ¤’ ç—…å‡ | ğŸ† å‡ºå¤–æ¯”è³½\n\n`;
            
            // æ·»åŠ ç”Ÿæˆæ™‚é–“
            const now = new Date();
            const timeString = now.toLocaleDateString('zh-Hant', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
            
            whatsappContent += `â³ è¨˜éŒ„ç”Ÿæˆæ™‚é–“ï¼š${timeString}\n`;
            whatsappContent += `ğŸ“± æ­¤è¨˜éŒ„ç”±é»åç³»çµ±è‡ªå‹•ç”Ÿæˆ`;
            
            // é¡¯ç¤ºæ–‡æ¡ˆ
            document.getElementById('whatsapp-content').textContent = whatsappContent;
            document.getElementById('whatsapp-output').style.display = 'block';
            
            // æ»¾å‹•åˆ°æ–‡æ¡ˆä½ç½®
            document.getElementById('whatsapp-output').scrollIntoView({ behavior: 'smooth' });
            
            // æ›´æ–°ç”Ÿæˆæ™‚é–“
            updateGenerationTime();
        });
        
        // æ¨é€è‡³WhatsApp
        document.getElementById('whatsapp-btn').addEventListener('click', function() {
            // ç¢ºä¿å·²ç¶“ç”Ÿæˆæ–‡æ¡ˆ
            if (document.getElementById('whatsapp-output').style.display === 'none') {
                alert('è«‹å…ˆé»æ“Šã€Œç”ŸæˆWhatsAppæ–‡æ¡ˆã€æŒ‰éˆ•ç”Ÿæˆæ–‡æ¡ˆ');
                return;
            }
            
            const whatsappContent = document.getElementById('whatsapp-content').textContent;
            
            // ç·¨ç¢¼æ–‡æ¡ˆä»¥ç”¨æ–¼WhatsApp URL
            const encodedContent = encodeURIComponent(whatsappContent);
            
            // å‰µå»ºWhatsAppåˆ†äº«é€£çµ
            const whatsappUrl = `https://wa.me/?text=${encodedContent}`;
            
            // åœ¨æ–°çª—å£ä¸­æ‰“é–‹
            window.open(whatsappUrl, '_blank');
            
            // é¡¯ç¤ºæç¤º
            alert('å·²é–‹å•ŸWhatsAppåˆ†äº«è¦–çª—ï¼Œè«‹åœ¨WhatsAppä¸­é¸æ“‡è¯ç¹«äººæˆ–ç¾¤çµ„ç™¼é€ã€‚');
        });
        
        // è¼”åŠ©å‡½æ•¸ï¼šæ ¼å¼åŒ–æ—¥æœŸ
        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            return date.toLocaleDateString('zh-Hant', options);
        }
    </script>
</body>
</html>
